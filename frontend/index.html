<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>AR Ruler</title>
  <style>
    body { margin:0; overflow:hidden; background:#000; }
    #info {
      position:fixed; top:16px; left:16px; background:rgba(0,0,0,0.7); color:white;
      padding:10px 16px; border-radius:12px; font:16px system-ui; z-index:9999;
    }
  </style>
</head>
<body>
  <div id="info">Loading AR Ruler…</div>

  <!-- This script automatically detects AR and starts the correct mode -->
  <script type="module">
    import { supportsWebXR } from "./js/main.js";

    const info = document.getElementById("info");

    const hasAR = await supportsWebXR();

    if (hasAR) {
      info.textContent = "AR supported – starting 3D ruler…";
      import("./js/app.js");                     // ← This creates the correct START AR button
    } else {
      info.textContent = "No AR – starting 2D AI ruler…";
      // start your 2D fallback if you want
      import("./js/opencvMeasure.js");
    }
  </script>
</body>
</html>
